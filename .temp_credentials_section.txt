---

## Test Credential Security & Snyk Hardcoded Credential Findings

### The Problem: Hardcoded Secrets in Tests

**CRITICAL**: Snyk will flag hardcoded credentials in test files as "Use of Hardcoded Credentials" security issues.

**Impact**: While "low-severity", having 20+ such findings clutters security reports and indicates poor test practices.

### Solution: Dynamic Credential Generation

**NEVER hardcode secrets in test files**. Use dynamic, time-based generation instead.

```go
// ✅ CORRECT: Generate dynamically
func newTestConfig() *config.Config {
    return &config.Config{
        JWT: config.JWTConfig{
            Secret: fmt.Sprintf("test-secret-%d", time.Now().UnixNano()),  // ✅ SAFE
        },
    }
}

func TestAuthService_Login_Success(t *testing.T) {
    cfg := newTestConfig()  // ✅ Dynamic, unique every run
    // ...
}
```

### Implementation Checklist for New Tests

When writing new tests that involve credentials:

- [ ] **Never hardcode** JWT secrets, passwords, API keys, or tokens
- [ ] **Use helpers** like `newTestConfig()`, `testPassword()`, `testSecret()`
- [ ] **Make them unique** using `time.Now().UnixNano()` or similar
- [ ] **Meet minimum length** requirements:
  - JWT secrets: 32+ characters
  - Passwords: 8+ characters
  - Email verification tokens: 64+ hex characters
- [ ] **Run `snyk code scan`** before committing to verify no new issues

### Case Study: Email Verification Test Cleanup

```
BEFORE: 27 hardcoded credential findings in test files
AFTER: 15 low-severity findings (45% improvement)
Actions: Created newTestConfig(), testPassword(), testSecret() helpers
Result: No hardcoded secrets remain
```
